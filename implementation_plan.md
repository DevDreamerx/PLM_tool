# 技术状态管理小程序 - 最小开发计划 (Prototype Plan)

## 1. 技术路线可行性审查

### 1.1 核心约束分析
- **操作系统**: Windows 7 (内网/离线)
- **开发语言**: Python 3.8 (Win7 支持的最后一个 Python 版本)
- **GUI框架**: PyQt5 (成熟稳定，原生控件，性能优于 Electron)
- **数据库**: SQLite (单文件，零配置，适合离线)
- **部署**: PyInstaller 单文件打包 (无依赖安装)

### 1.2 结论
**完全可行**。
选型非常保守且稳健，完美契合“内网老旧机器”的场景。
- **风险点**: 10万条数据在老旧机器上的查询性能。
- **对策**: 务必在数据库层做分页 (LIMIT/OFFSET) 和 索引，避免一次性加载所有数据到内存(QTableWidget)。

---

## 2. 最小原型 (MVP) 开发计划

目标：在最短时间内产出一个可运行、可录入、可查询的 `.exe` 原型，验证核心链路。

### **阶段一：基础骨架 (约 30 mins)**
1.  **建立项目结构**:
    ```text
    tech_status_manager/
    ├── main.py (入口)
    ├── db/ (数据库层)
    ├── ui/ (界面层)
    └── utils/ (工具层)
    ```
2.  **数据库初始化**: 实现 `DatabaseManager`，仅包含最核心的 `product` 表创建。

### **阶段二：核心功能 - 录入 (约 45 mins)**
1.  **主窗口框架**: 搭建 `MainWindow`，实现左侧导航栏切换。
2.  **录入界面**: 实现 `EntryWidget`，仅包含最关键字段（产品代号、名称、状态）。
3.  **链路打通**: 界面点击“保存” -> 调用 DB 插入数据 -> 弹出成功提示。

### **阶段三：核心功能 - 查询 (约 45 mins)**
1.  **查询界面**: 实现 `QueryWidget`，包含一个搜索框和一个 `QTableWidget`。
2.  **数据绑定**: 实现“模糊搜索” -> 调用 DB (`SELECT ... LIKE`) -> 填充表格。
3.  **验证**: 录入的数据能在查询界面看到。

### **阶段四：打包验证 (约 15 mins)**
1.  **PyInstaller 配置**: 编写打包脚本。
2.  **模拟运行**: 验证生成的二进制文件是否可脱离环境运行。

---

## 3. 下一步执行建议

建议立即开始 **阶段一** 和 **阶段二** 的开发。
我将为您创建项目结构并编写核心的基础代码（数据库连接与主窗口骨架）。
